{"version":3,"sources":["node_modules/react-dom/lib/ReactDOMTextarea.js"],"names":["_prodInvariant","require","_assign","LinkedValueUtils","ReactDOMComponentTree","ReactUpdates","invariant","warning","didWarnValueLink","didWarnValDefaultVal","forceUpdateIfMounted","_rootNodeID","ReactDOMTextarea","updateWrapper","getHostProps","inst","props","dangerouslySetInnerHTML","process","env","NODE_ENV","hostProps","value","undefined","defaultValue","children","_wrapperState","initialValue","onChange","mountWrapper","checkPropTypes","_currentElement","_owner","valueLink","getValue","Array","isArray","length","listeners","_handleChange","bind","node","getNodeFromInstance","newValue","postMountWrapper","textContent","event","returnValue","executeOnChange","asap","module","exports"],"mappings":"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","file":"ReactDOMTextarea.js","sourceRoot":"/Users/moyu/my-code/FECode/react-hoc","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar LinkedValueUtils = require('./LinkedValueUtils');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnValueLink = false;\nvar didWarnValDefaultVal = false;\n\nfunction forceUpdateIfMounted() {\n  if (this._rootNodeID) {\n    // DOM component is still mounted; update\n    ReactDOMTextarea.updateWrapper(this);\n  }\n}\n\n/**\n * Implements a <textarea> host component that allows setting `value`, and\n * `defaultValue`. This differs from the traditional DOM API because value is\n * usually set as PCDATA children.\n *\n * If `value` is not supplied (or null/undefined), user actions that affect the\n * value will trigger updates to the element.\n *\n * If `value` is supplied (and not null/undefined), the rendered element will\n * not trigger updates to the element. Instead, the `value` prop must change in\n * order for the rendered element to be updated.\n *\n * The rendered element will be initialized with an empty value, the prop\n * `defaultValue` if specified, or the children content (deprecated).\n */\nvar ReactDOMTextarea = {\n  getHostProps: function (inst, props) {\n    !(props.dangerouslySetInnerHTML == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, '`dangerouslySetInnerHTML` does not make sense on <textarea>.') : _prodInvariant('91') : void 0;\n\n    // Always set children to the same thing. In IE9, the selection range will\n    // get reset if `textContent` is mutated.  We could add a check in setTextContent\n    // to only set the value if/when the value differs from the node value (which would\n    // completely solve this IE9 bug), but Sebastian+Ben seemed to like this solution.\n    // The value can be a boolean or object so that's why it's forced to be a string.\n    var hostProps = _assign({}, props, {\n      value: undefined,\n      defaultValue: undefined,\n      children: '' + inst._wrapperState.initialValue,\n      onChange: inst._wrapperState.onChange\n    });\n\n    return hostProps;\n  },\n\n  mountWrapper: function (inst, props) {\n    if (process.env.NODE_ENV !== 'production') {\n      LinkedValueUtils.checkPropTypes('textarea', props, inst._currentElement._owner);\n      if (props.valueLink !== undefined && !didWarnValueLink) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead.') : void 0;\n        didWarnValueLink = true;\n      }\n      if (props.value !== undefined && props.defaultValue !== undefined && !didWarnValDefaultVal) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'Textarea elements must be either controlled or uncontrolled ' + '(specify either the value prop, or the defaultValue prop, but not ' + 'both). Decide between using a controlled or uncontrolled textarea ' + 'and remove one of these props. More info: ' + 'https://fb.me/react-controlled-components') : void 0;\n        didWarnValDefaultVal = true;\n      }\n    }\n\n    var value = LinkedValueUtils.getValue(props);\n    var initialValue = value;\n\n    // Only bother fetching default value if we're going to use it\n    if (value == null) {\n      var defaultValue = props.defaultValue;\n      // TODO (yungsters): Remove support for children content in <textarea>.\n      var children = props.children;\n      if (children != null) {\n        if (process.env.NODE_ENV !== 'production') {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'Use the `defaultValue` or `value` props instead of setting ' + 'children on <textarea>.') : void 0;\n        }\n        !(defaultValue == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'If you supply `defaultValue` on a <textarea>, do not pass children.') : _prodInvariant('92') : void 0;\n        if (Array.isArray(children)) {\n          !(children.length <= 1) ? process.env.NODE_ENV !== 'production' ? invariant(false, '<textarea> can only have at most one child.') : _prodInvariant('93') : void 0;\n          children = children[0];\n        }\n\n        defaultValue = '' + children;\n      }\n      if (defaultValue == null) {\n        defaultValue = '';\n      }\n      initialValue = defaultValue;\n    }\n\n    inst._wrapperState = {\n      initialValue: '' + initialValue,\n      listeners: null,\n      onChange: _handleChange.bind(inst)\n    };\n  },\n\n  updateWrapper: function (inst) {\n    var props = inst._currentElement.props;\n\n    var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n    var value = LinkedValueUtils.getValue(props);\n    if (value != null) {\n      // Cast `value` to a string to ensure the value is set correctly. While\n      // browsers typically do this as necessary, jsdom doesn't.\n      var newValue = '' + value;\n\n      // To avoid side effects (such as losing text selection), only set value if changed\n      if (newValue !== node.value) {\n        node.value = newValue;\n      }\n      if (props.defaultValue == null) {\n        node.defaultValue = newValue;\n      }\n    }\n    if (props.defaultValue != null) {\n      node.defaultValue = props.defaultValue;\n    }\n  },\n\n  postMountWrapper: function (inst) {\n    // This is in postMount because we need access to the DOM node, which is not\n    // available until after the component has mounted.\n    var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n    var textContent = node.textContent;\n\n    // Only set node.value if textContent is equal to the expected\n    // initial value. In IE10/IE11 there is a bug where the placeholder attribute\n    // will populate textContent as well.\n    // https://developer.microsoft.com/microsoft-edge/platform/issues/101525/\n    if (textContent === inst._wrapperState.initialValue) {\n      node.value = textContent;\n    }\n  }\n};\n\nfunction _handleChange(event) {\n  var props = this._currentElement.props;\n  var returnValue = LinkedValueUtils.executeOnChange(props, event);\n  ReactUpdates.asap(forceUpdateIfMounted, this);\n  return returnValue;\n}\n\nmodule.exports = ReactDOMTextarea;"]}