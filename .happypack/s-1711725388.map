{"version":3,"sources":["node_modules/react-dom/lib/DOMChildrenOperations.js"],"names":["DOMLazyTree","require","Danger","ReactDOMComponentTree","ReactInstrumentation","createMicrosoftUnsafeLocalFunction","setInnerHTML","setTextContent","getNodeAfter","parentNode","node","Array","isArray","nextSibling","firstChild","insertChildAt","childNode","referenceNode","insertBefore","insertLazyTreeChildAt","childTree","insertTreeBefore","moveChild","moveDelimitedText","removeChild","closingComment","removeDelimitedText","openingComment","nextNode","startNode","replaceDelimitedText","stringText","nodeAfterComment","document","createTextNode","process","env","NODE_ENV","debugTool","onHostOperation","instanceID","getInstanceFromNode","_debugID","type","payload","dangerouslyReplaceNodeWithMarkup","oldChild","markup","prevInstance","toString","nextInstance","DOMChildrenOperations","processUpdates","updates","parentNodeDebugID","k","length","update","content","afterNode","toIndex","fromNode","fromIndex","module","exports"],"mappings":"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","file":"DOMChildrenOperations.js","sourceRoot":"/Users/moyu/my-code/FECode/react-hoc","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMLazyTree = require('./DOMLazyTree');\nvar Danger = require('./Danger');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction');\nvar setInnerHTML = require('./setInnerHTML');\nvar setTextContent = require('./setTextContent');\n\nfunction getNodeAfter(parentNode, node) {\n  // Special case for text components, which return [open, close] comments\n  // from getHostNode.\n  if (Array.isArray(node)) {\n    node = node[1];\n  }\n  return node ? node.nextSibling : parentNode.firstChild;\n}\n\n/**\n * Inserts `childNode` as a child of `parentNode` at the `index`.\n *\n * @param {DOMElement} parentNode Parent node in which to insert.\n * @param {DOMElement} childNode Child node to insert.\n * @param {number} index Index at which to insert the child.\n * @internal\n */\nvar insertChildAt = createMicrosoftUnsafeLocalFunction(function (parentNode, childNode, referenceNode) {\n  // We rely exclusively on `insertBefore(node, null)` instead of also using\n  // `appendChild(node)`. (Using `undefined` is not allowed by all browsers so\n  // we are careful to use `null`.)\n  parentNode.insertBefore(childNode, referenceNode);\n});\n\nfunction insertLazyTreeChildAt(parentNode, childTree, referenceNode) {\n  DOMLazyTree.insertTreeBefore(parentNode, childTree, referenceNode);\n}\n\nfunction moveChild(parentNode, childNode, referenceNode) {\n  if (Array.isArray(childNode)) {\n    moveDelimitedText(parentNode, childNode[0], childNode[1], referenceNode);\n  } else {\n    insertChildAt(parentNode, childNode, referenceNode);\n  }\n}\n\nfunction removeChild(parentNode, childNode) {\n  if (Array.isArray(childNode)) {\n    var closingComment = childNode[1];\n    childNode = childNode[0];\n    removeDelimitedText(parentNode, childNode, closingComment);\n    parentNode.removeChild(closingComment);\n  }\n  parentNode.removeChild(childNode);\n}\n\nfunction moveDelimitedText(parentNode, openingComment, closingComment, referenceNode) {\n  var node = openingComment;\n  while (true) {\n    var nextNode = node.nextSibling;\n    insertChildAt(parentNode, node, referenceNode);\n    if (node === closingComment) {\n      break;\n    }\n    node = nextNode;\n  }\n}\n\nfunction removeDelimitedText(parentNode, startNode, closingComment) {\n  while (true) {\n    var node = startNode.nextSibling;\n    if (node === closingComment) {\n      // The closing comment is removed by ReactMultiChild.\n      break;\n    } else {\n      parentNode.removeChild(node);\n    }\n  }\n}\n\nfunction replaceDelimitedText(openingComment, closingComment, stringText) {\n  var parentNode = openingComment.parentNode;\n  var nodeAfterComment = openingComment.nextSibling;\n  if (nodeAfterComment === closingComment) {\n    // There are no text nodes between the opening and closing comments; insert\n    // a new one if stringText isn't empty.\n    if (stringText) {\n      insertChildAt(parentNode, document.createTextNode(stringText), nodeAfterComment);\n    }\n  } else {\n    if (stringText) {\n      // Set the text content of the first node after the opening comment, and\n      // remove all following nodes up until the closing comment.\n      setTextContent(nodeAfterComment, stringText);\n      removeDelimitedText(parentNode, nodeAfterComment, closingComment);\n    } else {\n      removeDelimitedText(parentNode, openingComment, closingComment);\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    ReactInstrumentation.debugTool.onHostOperation({\n      instanceID: ReactDOMComponentTree.getInstanceFromNode(openingComment)._debugID,\n      type: 'replace text',\n      payload: stringText\n    });\n  }\n}\n\nvar dangerouslyReplaceNodeWithMarkup = Danger.dangerouslyReplaceNodeWithMarkup;\nif (process.env.NODE_ENV !== 'production') {\n  dangerouslyReplaceNodeWithMarkup = function (oldChild, markup, prevInstance) {\n    Danger.dangerouslyReplaceNodeWithMarkup(oldChild, markup);\n    if (prevInstance._debugID !== 0) {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: prevInstance._debugID,\n        type: 'replace with',\n        payload: markup.toString()\n      });\n    } else {\n      var nextInstance = ReactDOMComponentTree.getInstanceFromNode(markup.node);\n      if (nextInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onHostOperation({\n          instanceID: nextInstance._debugID,\n          type: 'mount',\n          payload: markup.toString()\n        });\n      }\n    }\n  };\n}\n\n/**\n * Operations for updating with DOM children.\n */\nvar DOMChildrenOperations = {\n  dangerouslyReplaceNodeWithMarkup: dangerouslyReplaceNodeWithMarkup,\n\n  replaceDelimitedText: replaceDelimitedText,\n\n  /**\n   * Updates a component's children by processing a series of updates. The\n   * update configurations are each expected to have a `parentNode` property.\n   *\n   * @param {array<object>} updates List of update configurations.\n   * @internal\n   */\n  processUpdates: function (parentNode, updates) {\n    if (process.env.NODE_ENV !== 'production') {\n      var parentNodeDebugID = ReactDOMComponentTree.getInstanceFromNode(parentNode)._debugID;\n    }\n\n    for (var k = 0; k < updates.length; k++) {\n      var update = updates[k];\n      switch (update.type) {\n        case 'INSERT_MARKUP':\n          insertLazyTreeChildAt(parentNode, update.content, getNodeAfter(parentNode, update.afterNode));\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'insert child',\n              payload: {\n                toIndex: update.toIndex,\n                content: update.content.toString()\n              }\n            });\n          }\n          break;\n        case 'MOVE_EXISTING':\n          moveChild(parentNode, update.fromNode, getNodeAfter(parentNode, update.afterNode));\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'move child',\n              payload: { fromIndex: update.fromIndex, toIndex: update.toIndex }\n            });\n          }\n          break;\n        case 'SET_MARKUP':\n          setInnerHTML(parentNode, update.content);\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'replace children',\n              payload: update.content.toString()\n            });\n          }\n          break;\n        case 'TEXT_CONTENT':\n          setTextContent(parentNode, update.content);\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'replace text',\n              payload: update.content.toString()\n            });\n          }\n          break;\n        case 'REMOVE_NODE':\n          removeChild(parentNode, update.fromNode);\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'remove child',\n              payload: { fromIndex: update.fromIndex }\n            });\n          }\n          break;\n      }\n    }\n  }\n};\n\nmodule.exports = DOMChildrenOperations;"]}