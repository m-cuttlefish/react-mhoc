{"version":3,"sources":["node_modules/react-dom/lib/DOMPropertyOperations.js"],"names":["DOMProperty","require","ReactDOMComponentTree","ReactInstrumentation","quoteAttributeValueForBrowser","warning","VALID_ATTRIBUTE_NAME_REGEX","RegExp","ATTRIBUTE_NAME_START_CHAR","ATTRIBUTE_NAME_CHAR","illegalAttributeNameCache","validatedAttributeNameCache","isAttributeNameSafe","attributeName","hasOwnProperty","test","process","env","NODE_ENV","shouldIgnoreValue","propertyInfo","value","hasBooleanValue","hasNumericValue","isNaN","hasPositiveNumericValue","hasOverloadedBooleanValue","DOMPropertyOperations","createMarkupForID","id","ID_ATTRIBUTE_NAME","setAttributeForID","node","setAttribute","createMarkupForRoot","ROOT_ATTRIBUTE_NAME","setAttributeForRoot","createMarkupForProperty","name","properties","isCustomAttribute","createMarkupForCustomAttribute","setValueForProperty","mutationMethod","deleteValueForProperty","mustUseProperty","propertyName","namespace","attributeNamespace","setAttributeNS","setValueForAttribute","payload","debugTool","onHostOperation","instanceID","getInstanceFromNode","_debugID","type","removeAttribute","deleteValueForAttribute","undefined","propName","module","exports"],"mappings":"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","file":"DOMPropertyOperations.js","sourceRoot":"/Users/moyu/my-code/FECode/react-hoc","sourcesContent":["/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar quoteAttributeValueForBrowser = require('./quoteAttributeValueForBrowser');\nvar warning = require('fbjs/lib/warning');\n\nvar VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + DOMProperty.ATTRIBUTE_NAME_START_CHAR + '][' + DOMProperty.ATTRIBUTE_NAME_CHAR + ']*$');\nvar illegalAttributeNameCache = {};\nvar validatedAttributeNameCache = {};\n\nfunction isAttributeNameSafe(attributeName) {\n  if (validatedAttributeNameCache.hasOwnProperty(attributeName)) {\n    return true;\n  }\n  if (illegalAttributeNameCache.hasOwnProperty(attributeName)) {\n    return false;\n  }\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {\n    validatedAttributeNameCache[attributeName] = true;\n    return true;\n  }\n  illegalAttributeNameCache[attributeName] = true;\n  process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid attribute name: `%s`', attributeName) : void 0;\n  return false;\n}\n\nfunction shouldIgnoreValue(propertyInfo, value) {\n  return value == null || propertyInfo.hasBooleanValue && !value || propertyInfo.hasNumericValue && isNaN(value) || propertyInfo.hasPositiveNumericValue && value < 1 || propertyInfo.hasOverloadedBooleanValue && value === false;\n}\n\n/**\n * Operations for dealing with DOM properties.\n */\nvar DOMPropertyOperations = {\n  /**\n   * Creates markup for the ID property.\n   *\n   * @param {string} id Unescaped ID.\n   * @return {string} Markup string.\n   */\n  createMarkupForID: function (id) {\n    return DOMProperty.ID_ATTRIBUTE_NAME + '=' + quoteAttributeValueForBrowser(id);\n  },\n\n  setAttributeForID: function (node, id) {\n    node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME, id);\n  },\n\n  createMarkupForRoot: function () {\n    return DOMProperty.ROOT_ATTRIBUTE_NAME + '=\"\"';\n  },\n\n  setAttributeForRoot: function (node) {\n    node.setAttribute(DOMProperty.ROOT_ATTRIBUTE_NAME, '');\n  },\n\n  /**\n   * Creates markup for a property.\n   *\n   * @param {string} name\n   * @param {*} value\n   * @return {?string} Markup string, or null if the property was invalid.\n   */\n  createMarkupForProperty: function (name, value) {\n    var propertyInfo = DOMProperty.properties.hasOwnProperty(name) ? DOMProperty.properties[name] : null;\n    if (propertyInfo) {\n      if (shouldIgnoreValue(propertyInfo, value)) {\n        return '';\n      }\n      var attributeName = propertyInfo.attributeName;\n      if (propertyInfo.hasBooleanValue || propertyInfo.hasOverloadedBooleanValue && value === true) {\n        return attributeName + '=\"\"';\n      }\n      return attributeName + '=' + quoteAttributeValueForBrowser(value);\n    } else if (DOMProperty.isCustomAttribute(name)) {\n      if (value == null) {\n        return '';\n      }\n      return name + '=' + quoteAttributeValueForBrowser(value);\n    }\n    return null;\n  },\n\n  /**\n   * Creates markup for a custom property.\n   *\n   * @param {string} name\n   * @param {*} value\n   * @return {string} Markup string, or empty string if the property was invalid.\n   */\n  createMarkupForCustomAttribute: function (name, value) {\n    if (!isAttributeNameSafe(name) || value == null) {\n      return '';\n    }\n    return name + '=' + quoteAttributeValueForBrowser(value);\n  },\n\n  /**\n   * Sets the value for a property on a node.\n   *\n   * @param {DOMElement} node\n   * @param {string} name\n   * @param {*} value\n   */\n  setValueForProperty: function (node, name, value) {\n    var propertyInfo = DOMProperty.properties.hasOwnProperty(name) ? DOMProperty.properties[name] : null;\n    if (propertyInfo) {\n      var mutationMethod = propertyInfo.mutationMethod;\n      if (mutationMethod) {\n        mutationMethod(node, value);\n      } else if (shouldIgnoreValue(propertyInfo, value)) {\n        this.deleteValueForProperty(node, name);\n        return;\n      } else if (propertyInfo.mustUseProperty) {\n        // Contrary to `setAttribute`, object properties are properly\n        // `toString`ed by IE8/9.\n        node[propertyInfo.propertyName] = value;\n      } else {\n        var attributeName = propertyInfo.attributeName;\n        var namespace = propertyInfo.attributeNamespace;\n        // `setAttribute` with objects becomes only `[object]` in IE8/9,\n        // ('' + value) makes it output the correct toString()-value.\n        if (namespace) {\n          node.setAttributeNS(namespace, attributeName, '' + value);\n        } else if (propertyInfo.hasBooleanValue || propertyInfo.hasOverloadedBooleanValue && value === true) {\n          node.setAttribute(attributeName, '');\n        } else {\n          node.setAttribute(attributeName, '' + value);\n        }\n      }\n    } else if (DOMProperty.isCustomAttribute(name)) {\n      DOMPropertyOperations.setValueForAttribute(node, name, value);\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var payload = {};\n      payload[name] = value;\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'update attribute',\n        payload: payload\n      });\n    }\n  },\n\n  setValueForAttribute: function (node, name, value) {\n    if (!isAttributeNameSafe(name)) {\n      return;\n    }\n    if (value == null) {\n      node.removeAttribute(name);\n    } else {\n      node.setAttribute(name, '' + value);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var payload = {};\n      payload[name] = value;\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'update attribute',\n        payload: payload\n      });\n    }\n  },\n\n  /**\n   * Deletes an attributes from a node.\n   *\n   * @param {DOMElement} node\n   * @param {string} name\n   */\n  deleteValueForAttribute: function (node, name) {\n    node.removeAttribute(name);\n    if (process.env.NODE_ENV !== 'production') {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'remove attribute',\n        payload: name\n      });\n    }\n  },\n\n  /**\n   * Deletes the value for a property on a node.\n   *\n   * @param {DOMElement} node\n   * @param {string} name\n   */\n  deleteValueForProperty: function (node, name) {\n    var propertyInfo = DOMProperty.properties.hasOwnProperty(name) ? DOMProperty.properties[name] : null;\n    if (propertyInfo) {\n      var mutationMethod = propertyInfo.mutationMethod;\n      if (mutationMethod) {\n        mutationMethod(node, undefined);\n      } else if (propertyInfo.mustUseProperty) {\n        var propName = propertyInfo.propertyName;\n        if (propertyInfo.hasBooleanValue) {\n          node[propName] = false;\n        } else {\n          node[propName] = '';\n        }\n      } else {\n        node.removeAttribute(propertyInfo.attributeName);\n      }\n    } else if (DOMProperty.isCustomAttribute(name)) {\n      node.removeAttribute(name);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'remove attribute',\n        payload: name\n      });\n    }\n  }\n};\n\nmodule.exports = DOMPropertyOperations;"]}